#!/bin/bash
# Variables d'environnement pour PMT API
# Source ce fichier avant de lancer Maven: source env.sh

# =========================
# PARAMÈTRES
# =========================
WG_SERVER_IP="${WG_SERVER_IP:-10.10.0.1}"
MYSQL_PORT="${MYSQL_PORT:-3306}"

DB_DEV="project_management_tool_bdd_dev"
DB_STAGING="project_management_tool_bdd_staging"
DB_PROD="project_management_tool_bdd_prod"
export MYSQL_ROOT_PASSWORD=éédhYYUZhHHZHHH44_&
export MYSQL_DISTANT_ADMIN=distant_admin
# =========================
# SECRETS (mots de passe fixes)
# =========================
export PMT_DEV_DB_PASSWORD='DevPass2024@'
export PMT_STAGING_DB_PASSWORD='StagingPass2024@'
export PMT_PROD_DB_PASSWORD='ProdPass2024@'
export PMT_ADMIN_DB_PASSWORD='AdminPass2024@'

# =========================
# VARIABLES D’ENV
# =========================
export PMT_DEV_DB_URL="jdbc:mysql://${WG_SERVER_IP}:${MYSQL_PORT}/${DB_DEV}?sslMode=REQUIRED&serverTimezone=UTC"
export PMT_DEV_DB_USER="pmt_dev"

export PMT_STAGING_DB_URL="jdbc:mysql://${WG_SERVER_IP}:${MYSQL_PORT}/${DB_STAGING}?sslMode=REQUIRED&serverTimezone=UTC"
export PMT_STAGING_DB_USER="pmt_staging"

export PMT_PROD_DB_URL="jdbc:mysql://${WG_SERVER_IP}:${MYSQL_PORT}/${DB_PROD}?sslMode=REQUIRED&serverTimezone=UTC"
export PMT_PROD_DB_USER="pmt_prod"

export PMT_ADMIN_DB_USER="pmt_admin"
export PMT_ADMIN_DEV_DB_URL="jdbc:mysql://${WG_SERVER_IP}:${MYSQL_PORT}/${DB_DEV}?sslMode=REQUIRED&serverTimezone=UTC"
export PMT_ADMIN_STAGING_DB_URL="jdbc:mysql://${WG_SERVER_IP}:${MYSQL_PORT}/${DB_STAGING}?sslMode=REQUIRED&serverTimezone=UTC"
export PMT_ADMIN_PROD_DB_URL="jdbc:mysql://${WG_SERVER_IP}:${MYSQL_PORT}/${DB_PROD}?sslMode=REQUIRED&serverTimezone=UTC"

cat <<EOF

=== VARIABLES D’ENVIRONNEMENT ===

DEV:
  export PMT_DEV_DB_URL="${PMT_DEV_DB_URL}"
  export PMT_DEV_DB_USER="${PMT_DEV_DB_USER}"
  export PMT_DEV_DB_PASSWORD="${PMT_DEV_DB_PASSWORD}"

STAGING:
  export PMT_STAGING_DB_URL="${PMT_STAGING_DB_URL}"
  export PMT_STAGING_DB_USER="${PMT_STAGING_DB_USER}"
  export PMT_STAGING_DB_PASSWORD="${PMT_STAGING_DB_PASSWORD}"

PROD:
  export PMT_PROD_DB_URL="${PMT_PROD_DB_URL}"
  export PMT_PROD_DB_USER="${PMT_PROD_DB_USER}"
  export PMT_PROD_DB_PASSWORD="${PMT_PROD_DB_PASSWORD}"

ADMIN:
  export PMT_ADMIN_DB_USER="${PMT_ADMIN_DB_USER}"
  export PMT_ADMIN_DB_PASSWORD="${PMT_ADMIN_DB_PASSWORD}"

EOF